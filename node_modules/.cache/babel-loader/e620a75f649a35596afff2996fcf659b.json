{"remainingRequest":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/babel-loader/lib/index.js!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/other/apply.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/other/apply.vue","mtime":1575472782089},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapMutations } from \"vuex\";\nimport { ApiList } from \"../../api/api\";\nimport { currentcy } from \"@/config/number\";\nexport default {\n  name: \"apply\",\n  data: function data() {\n    return {\n      dialogVisible: false,\n      googleCode: '',\n      googleKeyFlag: false,\n      user: JSON.parse(sessionStorage.getItem(\"userInfo\")),\n      ruleForm: {\n        date1: \"\",\n        date2: \"\",\n        card: \"\",\n        name: \"\",\n        account: \"\",\n        cardhold: \"\",\n        address: \"\",\n        money: \"\",\n        curent: ''\n      },\n      rules: {\n        cardhold: [{\n          required: true,\n          message: \"请输入账户名称\",\n          trigger: \"blur\"\n        }],\n        name: [{\n          required: true,\n          message: \"请输入银行名称\",\n          trigger: \"blur\" //   { max: 10, message: \"长度在不超过 10 个字符\", trigger: \"blur\" }\n\n        }],\n        address: [{\n          required: true,\n          message: \"请输入开户行地址\",\n          trigger: \"blur\"\n        }],\n        card: [{\n          required: true,\n          message: \"请选择银行卡号\",\n          trigger: \"change\"\n        }],\n        money: [{\n          required: true,\n          message: \"请输入下发金额\",\n          trigger: \"blur\"\n        }, {\n          type: \"number\",\n          message: \"金额必须为数值\",\n          trigger: \"blur\"\n        }]\n      },\n      cards: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.checkGoogleKey();\n    var api = new ApiList();\n    api.getcardList().then(function (resp) {\n      _this.cards = resp.data.data;\n    });\n    this.seeSurplus();\n  },\n  computed: {\n    currentcyMoney: function currentcyMoney() {\n      return currentcy(this.ruleForm.curent);\n    },\n    calcRestMoney: function calcRestMoney() {\n      var ret = '';\n      var curent = this.ruleForm.curent == '' ? 0 : parseFloat(this.ruleForm.curent);\n      var money = isNaN(parseFloat(this.ruleForm.money)) || this.ruleForm.money == '' ? 0 : parseFloat(this.ruleForm.money);\n\n      if (curent - money < 0) {\n        ret = \"您已超出当前余额，请修改！\";\n      } else {\n        ret = '当前可下发余额：' + currentcy(curent - money + '');\n      }\n\n      return ret;\n    }\n  },\n  methods: _objectSpread({}, mapMutations([\"remove_editableTabs\"]), {\n    changeCard: function changeCard(value) {\n      console.log(value);\n      var card = {};\n      this.cards.map(function (item) {\n        item.cardno == value ? card = item : null;\n      }); // let card = this.cards.find(item=>{\n      //     return item.cardno = this.ruleForm.card;\n      // });\n\n      this.ruleForm.name = card.bankname;\n      this.ruleForm.cardhold = card.cardhold;\n      this.ruleForm.address = card.bankaddress;\n    },\n    showDialog: function showDialog() {\n      this.dialogVisible = true;\n    },\n    checkGoogleKey: function checkGoogleKey() {\n      var _this2 = this;\n\n      var api = new ApiList();\n      api.getQRcode(this.user.id, 0).then(function (data) {\n        if (data.data.data.qrurl == '' || data.data.data.qrurl == null) {\n          _this2.googleKeyFlag = true;\n        } else {\n          _this2.googleKeyFlag = false;\n        }\n      });\n    },\n    checkCode: function checkCode() {\n      var _this3 = this;\n\n      var api = new ApiList();\n      api.getQRcode(this.user.id, 0, this.googleCode).then(function (data) {\n        if (data.data.data.message == 'fail') {\n          _this3.$message.error(\"谷歌密码验证失败!\");\n        } else {\n          _this3.dialogVisible = false;\n\n          _this3.submitForm();\n        }\n      });\n    },\n    submitForm: function submitForm() {\n      var _this4 = this;\n\n      this.$refs.applyForm.validate(function (valid) {\n        if (valid) {\n          var apiList = new ApiList();\n          apiList.withdraw({\n            card_no: _this4.ruleForm.card,\n            cardhold: _this4.ruleForm.cardhold,\n            bankname: _this4.ruleForm.name,\n            bankaddress: _this4.ruleForm.address,\n            amount: _this4.ruleForm.money\n          }).then(function (resp) {\n            if (parseInt(resp.data.code) == 0) {\n              _this4.$message({\n                type: \"success\",\n                message: '提款申请成功!'\n              });\n            } else {\n              _this4.$message.error(\"提款申请失败!\");\n            }\n          }).catch(function (error) {\n            his.$message.error(\"提款申请失败:\" + error);\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    seeSurplus: function seeSurplus() {\n      var _this5 = this;\n\n      var api = new ApiList();\n      api.seeBalance().then(function (resp) {\n        // this.ruleForm.curent = '1323';\n        // this.ruleForm.curent = resp.data[0].balance;\n        _this5.ruleForm.money = resp.data[0].balance;\n        _this5.ruleForm.curent = resp.data[0].balance;\n      });\n    }\n  })\n};",{"version":3,"sources":["apply.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"registerContent\">\n    <el-form\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      ref=\"applyForm\"\n      label-width=\"100px\"\n      class=\"regRuleForm\"\n    >\n      <el-form-item label=\"选择时间\">\n        <el-col :span=\"11\">\n          <el-date-picker\n            type=\"date\"\n            placeholder=\"选择起始时间\"\n            v-model=\"ruleForm.date1\"\n            style=\"width: 100%;\"\n          ></el-date-picker>\n        </el-col>\n        <el-col class=\"line\" :span=\"2\">至</el-col>\n        <el-col :span=\"11\">\n          <el-date-picker placeholder=\"选择结束时间\" v-model=\"ruleForm.date2\" style=\"width: 100%;\"></el-date-picker>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"银行卡号\">\n        <el-select class=\"cardSelect\" v-model=\"ruleForm.card\" placeholder=\"银行卡号\" @change=\"changeCard\">\n          <el-option v-for=\"(card,index) in cards\" :label=\"card.cardno\" :value=\"card.cardno\" :key=\"'card' + index\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"银行名称\" prop=\"name\">\n        <el-input disabled v-model=\"ruleForm.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"账户名称\" prop=\"cardhold\">\n        <el-input disabled v-model=\"ruleForm.cardhold\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"当前余额\" prop=\"currentMoney\">\n        <p class=\"current-money\">{{ currentcyMoney }}</p>\n      </el-form-item>\n      <el-form-item  label=\"开户行地址\" prop=\"address\">\n        <el-input disabled v-model=\"ruleForm.address\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"下发金额\" prop=\"money\">\n        <el-input v-model.number=\"ruleForm.money\"></el-input>\n      </el-form-item>\n      <el-form-item label=\" \">\n        <p class=\"rest-money\" :class=\"{'danger': calcRestMoney == '您已超出当前余额，请修改！'}\"> {{ calcRestMoney }}</p>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"showDialog()\">立即提交</el-button>\n        <!-- <el-button type=\"primary\" @click=\"seeSurplus()\">当前余额</el-button> -->\n      </el-form-item>\n    </el-form>\n    <el-dialog\n      title=\"请输入谷歌验证码\"\n      :visible.sync=\"dialogVisible\"\n      custom-class=\"google-alert\"\n      width=\"30%\">\n      <input type=\"text\" v-model=\"googleCode\">\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"checkCode()\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nimport { ApiList } from \"../../api/api\";\nimport { currentcy } from \"@/config/number\"\n\nexport default {\n  name: \"apply\",\n  data() {\n    return {\n      dialogVisible: false,\n      googleCode: '',\n      googleKeyFlag: false,\n      user: JSON.parse(sessionStorage.getItem(\"userInfo\")),\n      ruleForm: {\n        date1: \"\",\n        date2: \"\",\n        card: \"\",\n        name: \"\",\n        account: \"\",\n        cardhold: \"\",\n        address: \"\",\n        money: \"\",\n        curent: ''\n      },\n      rules: {\n        cardhold: [\n          { required: true, message: \"请输入账户名称\", trigger: \"blur\" }\n        ],\n        name: [\n          { required: true, message: \"请输入银行名称\", trigger: \"blur\" }\n          //   { max: 10, message: \"长度在不超过 10 个字符\", trigger: \"blur\" }\n        ],\n        address: [\n          { required: true, message: \"请输入开户行地址\", trigger: \"blur\" }\n        ],\n        card: [\n          { required: true, message: \"请选择银行卡号\", trigger: \"change\" }\n        ],\n        money: [\n          { required: true, message: \"请输入下发金额\", trigger: \"blur\" },\n          { type: \"number\", message: \"金额必须为数值\",trigger: \"blur\" }\n        ]\n      },\n      cards:[],\n    };\n  },\n  created() {\n    this.checkGoogleKey();\n     let api = new ApiList();\n     api.getcardList().then(resp=>{\n        this.cards = resp.data.data;\n     });\n     this.seeSurplus();\n  },\n  computed: {\n    currentcyMoney() {\n      return currentcy(this.ruleForm.curent)\n    },\n    calcRestMoney() {\n      let ret = '';\n      let curent = this.ruleForm.curent == ''? 0: parseFloat(this.ruleForm.curent);\n      let money = isNaN(parseFloat(this.ruleForm.money)) || this.ruleForm.money == ''? 0: parseFloat(this.ruleForm.money);\n        if(curent - money < 0) {\n          ret = \"您已超出当前余额，请修改！\"\n        }else {\n          \n          ret = '当前可下发余额：' + currentcy(curent - money + '')\n        }\n        return ret;\n    }\n  },\n  methods: {\n    ...mapMutations([\"remove_editableTabs\"]),\n    changeCard(value) {\n      console.log(value)\n      let card = {};\n      this.cards.map(item => {\n        item.cardno == value? card = item: null;\n      })\n      // let card = this.cards.find(item=>{\n      //     return item.cardno = this.ruleForm.card;\n      // });\n\n      this.ruleForm.name = card.bankname;\n      this.ruleForm.cardhold = card.cardhold;\n      this.ruleForm.address = card.bankaddress;\n    },\n    showDialog() {\n      this.dialogVisible = true;\n    },\n    checkGoogleKey() {\n      let api = new ApiList();\n      api.getQRcode(this.user.id, 0).then(data => {\n        if(data.data.data.qrurl == '' || data.data.data.qrurl == null) {\n            this.googleKeyFlag = true;\n        }else {\n            this.googleKeyFlag = false;\n        }\n      })\n    },\n    checkCode(){\n      let api = new ApiList();\n      api.getQRcode(this.user.id, 0, this.googleCode).then(data => {\n        if(data.data.data.message == 'fail') {\n            this.$message.error(\"谷歌密码验证失败!\");\n        }else {\n          this.dialogVisible = false;\n          this.submitForm();\n        }\n      })\n    },\n    submitForm() {\n      this.$refs.applyForm.validate(valid => {\n        if (valid) {\n          let apiList = new ApiList();\n          apiList.withdraw({\n              card_no: this.ruleForm.card,\n              cardhold: this.ruleForm.cardhold,\n              bankname: this.ruleForm.name,\n              bankaddress: this.ruleForm.address,\n              amount:this.ruleForm.money\n            }).then(resp => {\n              if (parseInt(resp.data.code) == 0) {\n                this.$message({\n                  type: \"success\",\n                  message: '提款申请成功!'\n                });\n                \n              } else {\n                this.$message.error(\"提款申请失败!\");\n              }\n            })\n            .catch(error => {\n              his.$message.error(\"提款申请失败:\" + error);\n            });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    seeSurplus() {\n     let api = new ApiList();\n     api.seeBalance().then(resp=>{\n        // this.ruleForm.curent = '1323';\n        // this.ruleForm.curent = resp.data[0].balance;\n        this.ruleForm.money = resp.data[0].balance;\n        this.ruleForm.curent = resp.data[0].balance;\n     });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.registerContent {\n  width: 100%;\n  padding: 100px calc(50% - 100px) 0 calc(50% - 400px);\n  .regRuleForm {\n    width: 500px;\n    .cardSelect {\n        width:100%;\n        // color: rgb(33,55,66);\n    }\n  }\n}\n/deep/ .el-button--primary {\n  background-color: #409eff;\n  border-color: #409eff;\n  border-radius: 0;\n}\n/deep/ .el-button--default {\n  border-radius: 0;\n}\n/deep/ .el-button--primary:hover,\n.el-button--primary:focus {\n  background-color: #66b1ff;\n  border-color: #66b1ff;\n}\n.current-money{\n  color: #999;\n  text-align: left;\n}\n.rest-money{\n  text-align: left;\n  position: relative;\n  top: -15px;\n  &.danger {\n    color: red;\n  }\n}\n\n</style>\n<style lang=\"less\">\n  .google-alert{\n    /deep/ .el-dialog__body{\n      padding: 10px 5px;\n    }\n    input{\n      width: 85%;\n      line-height: 36px;\n    }\n  }\n</style>\n\n"],"sourceRoot":"src/components/other"}]}