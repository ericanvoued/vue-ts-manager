{"remainingRequest":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/thread-loader/dist/cjs.js!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/babel-loader/lib/index.js!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/other/google-qrcode.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/other/google-qrcode.vue","mtime":1575470069924},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { ApiList } from \"../../api/api\";\nexport default {\n  name: \"GoogleQrcode\",\n  data: function data() {\n    return {\n      imgUrl: '',\n      keyCode: '',\n      openFlag: false,\n      user: JSON.parse(sessionStorage.getItem(\"userInfo\"))\n    };\n  },\n  created: function created() {\n    this.getQrcode(0);\n  },\n  methods: {\n    getQrcode: function getQrcode(flag) {\n      var _this = this;\n\n      var api = new ApiList();\n      api.getQRcode(this.user.id, flag).then(function (data) {\n        console.log(data);\n\n        if (flag == 0) {\n          if (data.data.data.qrurl == '' || data.data.data.qrurl == null) {\n            _this.openFlag = true;\n          } else {\n            _this.imgUrl = data.data.data.qrurl;\n            _this.keyCode = data.data.data.key;\n            _this.openFlag = false;\n          }\n        } else {\n          if (data.data.data.message == \"ok\") {\n            _this.$message({\n              type: 'success',\n              message: \"\\u5BC6\\u94A5\\u5F00\\u542F\\u6210\\u529F\\uFF01\"\n            });\n\n            _this.openFlag = true;\n          } else {\n            _this.$message({\n              type: 'error',\n              message: \"\\u5BC6\\u94A5\\u5F00\\u542F\\u5931\\u8D25\\uFF0C\\u8BF7\\u91CD\\u8BD5\\uFF01\"\n            });\n\n            _this.openFlag = false;\n          }\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["google-qrcode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA,SAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,SAAA,CAAA,CAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,IADA,EACA;AAAA;;AACA,UAAA,GAAA,GAAA,IAAA,OAAA,EAAA;AACA,MAAA,GAAA,CAAA,SAAA,CAAA,KAAA,IAAA,CAAA,EAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,YAAA,IAAA,IAAA,CAAA,EAAA;AACA,cAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,IAAA,EAAA,IAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,IAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA;AACA,SARA,MAQA;AACA,cAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,IAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA;AACA,cAAA,IAAA,EAAA,SADA;AAEA,cAAA,OAAA;AAFA,aAAA;;AAIA,YAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,WANA,MAMA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,OAAA;AAFA,aAAA;;AAIA,YAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA;AAEA;AAEA,OA3BA;AA4BA;AA/BA;AAbA,CAAA","sourcesContent":["<template>\n    <div style=\"padding-top: 50px;\">\n        <div class=\"isopen-info\" v-if=\"openFlag\">您已绑定谷歌验证码!</div>\n        <div class=\"qrcode-wrap\" v-if=\"!openFlag\">\n            <h4>1.请下载APP谷歌身份验证器GoogleAuthenticator后扫描以下二维码。</h4>\n            <img :src=\"imgUrl\" alt=\"\">\n            <p class=\"keycode\">密钥：{{ keyCode }}</p>\n        </div>\n        <div class=\"qrcode-wrap\" v-if=\"!openFlag\">\n            <h4>2.APP扫码绑定后，请备份该二维码以免丢失，然后点击确认开启。</h4>\n            <el-button @click=\"getQrcode(1)\" type=\"primary\">确认开启</el-button>\n        </div>\n        <div class=\"qrcode-wrap danger\" v-if=\"!openFlag\">\n            <h4>3.务必要保存二维码或密钥后再点击“确认开启”按钮。</h4>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ApiList } from '../../api/api';\nexport default {\n    name: \"GoogleQrcode\",\n    data() {\n        return {\n            imgUrl: '',\n            keyCode: '',\n            openFlag: false,\n            user: JSON.parse(sessionStorage.getItem(\"userInfo\")),\n        }\n    },\n    created() {\n        this.getQrcode(0);\n    },\n    methods: {\n        getQrcode(flag) {\n            let api = new ApiList();\n            api.getQRcode(this.user.id, flag).then(data => {\n                console.log(data)\n                if(flag == 0) {\n                    if(data.data.data.qrurl == '' || data.data.data.qrurl == null) {\n                        this.openFlag = true;\n                    }else {\n                        this.imgUrl = data.data.data.qrurl;\n                        this.keyCode = data.data.data.key;\n                        this.openFlag = false;\n                    }\n                } else {\n                    if(data.data.data.message == \"ok\") {\n                        this.$message({\n                            type: 'success',\n                            message: `密钥开启成功！`\n                        });\n                        this.openFlag = true;\n                    } else {\n                        this.$message({\n                            type: 'error',\n                            message: `密钥开启失败，请重试！`\n                        });\n                        this.openFlag = false;\n                    }\n                    \n                }\n                \n            })\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n    .qrcode-wrap{\n        text-align: left;\n        text-indent: 20px;\n        img{\n            width: 100px;\n            height: 100px;\n            display: block;\n            margin: 10px auto;\n        }\n        .keycode{\n            text-align: center;\n            margin-bottom: 20px;\n        }\n        /deep/ .el-button--primary{\n            display: inline-block;\n            margin: 10px 0 0 100px;\n        }\n    }\n    .danger{\n        color: red;\n        line-height: 48px;\n    }\n    .isopen-info{\n        font-size: 18px;\n    }\n</style>\n"],"sourceRoot":"src/components/other"}]}