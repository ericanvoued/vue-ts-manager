{"remainingRequest":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/babel-loader/lib/index.js!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/ts-loader/index.js??ref--13-2!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/common/base-header.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/common/base-header.vue","mtime":1575389408842},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport _classCallCheck from \"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { State, Mutation } from \"vuex-class\";\nimport { ApiList } from \"../../api/api\";\nimport { currentcy } from \"../../config/number\";\n\nvar BaseHeader =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(BaseHeader, _Vue);\n\n  function BaseHeader() {\n    var _this;\n\n    _classCallCheck(this, BaseHeader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BaseHeader).apply(this, arguments));\n    _this.formModel = \"\";\n    _this.ucLocal = sessionStorage.getItem(\"userInfo\") ? sessionStorage.getItem(\"userInfo\") : '';\n    _this.userInfo = JSON.parse(_this.ucLocal);\n    _this.curent_money = '0.00';\n    _this.api = new ApiList();\n    return _this;\n  }\n\n  _createClass(BaseHeader, [{\n    key: \"created\",\n    value: function created() {\n      this.seeSurplus();\n    }\n  }, {\n    key: \"quitLogin\",\n    value: function quitLogin() {\n      var _this2 = this;\n\n      var user = sessionStorage.getItem(\"userInfo\");\n      var params = {\n        userid: JSON.parse(user).id\n      };\n      this.$apiList.logOut(params).then(function (data) {\n        if (data.data.code == 0) {\n          sessionStorage.removeItem(\"userInfo\");\n\n          _this2.$router.push('/surface/login');\n\n          _this2.$message.success(data.data.data.message);\n        } else {\n          _this2.$message.warning(data.data.data.message);\n        }\n\n        console.log(data.data.code);\n      });\n    }\n  }, {\n    key: \"seeSurplus\",\n    value: function seeSurplus() {\n      var _this3 = this;\n\n      //  let api: any = new ApiList();\n      this.api.seeBalance().then(function (resp) {\n        // this.curent_money = currentcy('1323');\n        _this3.curent_money = currentcy(resp.data[0].balance);\n      });\n    }\n  }, {\n    key: \"changePassword\",\n    value: function changePassword() {\n      this.add_editableTabs({\n        title: \"修改密码\",\n        url: \"/home/change-password\"\n      });\n      this.$router.push({\n        path: \"/home/change-password\"\n      });\n    }\n  }, {\n    key: \"calRate\",\n    value: function calRate() {\n      this.add_editableTabs({\n        title: \"费率计算\",\n        url: \"/home/calculate-rate\"\n      });\n      this.$router.push({\n        path: \"/home/calculate-rate\"\n      });\n    }\n  }, {\n    key: \"showKeyAlert\",\n    value: function showKeyAlert() {\n      var homeAlert = this.$refs.homeAlert;\n      var alertStr = homeAlert.innerHTML.replace('{merchantname}', this.userInfo.merchant_no).replace('{username}', this.userInfo.username).replace('{usertoken}', this.userInfo.deposit_key).replace('{withdraw_key}', this.userInfo.withdraw_key);\n      this.$alert(alertStr, \"查看密钥\", {\n        customClass: \"home-alert\",\n        dangerouslyUseHTMLString: true,\n        showCancelButton: true,\n        closeOnClickModal: true,\n        cancelButtonText: \"取消\",\n        confirmButtonText: \"确定\",\n        cancelButtonClass: \"alert-concel-btn\",\n        confirmButtonClass: \"alert-confirm-btn\",\n        center: true\n      });\n    }\n  }, {\n    key: \"openGoogleQr\",\n    value: function openGoogleQr() {\n      this.add_editableTabs({\n        title: \"谷歌验证码\",\n        url: \"/home/google-QRcode\"\n      });\n      this.$router.push({\n        path: \"/home/google-QRcode\"\n      });\n    }\n  }, {\n    key: \"showFeeAlert\",\n    value: function showFeeAlert() {\n      var _this4 = this;\n\n      var user = sessionStorage.getItem(\"userInfo\");\n      var params = {\n        userId: JSON.parse(user).id\n      };\n      var feeAlert = this.$refs.feeAlert;\n      this.api.searchFeeRate(params).then(function (data) {\n        if (data.status == 200) {\n          var str = '';\n          data.data.data.map(function (item) {\n            str += \"<div class=\\\"fee-wrap\\\">\\n                  <p class=\\\"left\\\">\".concat(item.gatewayname, \":</p>\\n                  <p class=\\\"right\\\">\").concat(item.fee == null ? 0 : item.fee, \"</p>\\n                </div>\");\n          });\n          feeAlert.innerHTML = str;\n\n          _this4.$alert(str, \"查看费率\", {\n            customClass: \"fee-alert\",\n            dangerouslyUseHTMLString: true,\n            showCancelButton: true,\n            closeOnClickModal: true,\n            cancelButtonText: \"取消\",\n            confirmButtonText: \"确定\",\n            cancelButtonClass: \"alert-concel-btn\",\n            confirmButtonClass: \"alert-confirm-btn\",\n            center: true\n          });\n        }\n      });\n    }\n  }]);\n\n  return BaseHeader;\n}(Vue);\n\ntslib_1.__decorate([State(function (state) {\n  return state;\n})], BaseHeader.prototype, \"globalState\", void 0);\n\ntslib_1.__decorate([Mutation(\"add_editableTabs\")], BaseHeader.prototype, \"add_editableTabs\", void 0);\n\nBaseHeader = tslib_1.__decorate([Component({\n  components: {}\n})], BaseHeader);\nexport default BaseHeader;",{"version":3,"sources":["/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/common/base-header.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { State, Mutation } from \"vuex-class\";\nimport { ApiList } from \"../../api/api\";\nimport { currentcy } from \"../../config/number\"\n\n@Component({\n  components: {}\n})\nexport default class BaseHeader extends Vue {\n  @State(state => state) private globalState!: any;\n  @Mutation(\"add_editableTabs\") private add_editableTabs: any;\n  private formModel: any = \"\";\n  private ucLocal: any = sessionStorage.getItem(\"userInfo\")? sessionStorage.getItem(\"userInfo\"):'';\n  private userInfo: any = JSON.parse(this.ucLocal);\n  private curent_money: any = '0.00';\n  private api: any = new ApiList();\n\n  created() {\n      this.seeSurplus();\n  } \n\n  quitLogin() {\n    let user: any = sessionStorage.getItem(\"userInfo\");\n    let params = {\n      userid: JSON.parse(user).id\n    }\n    \n    this.$apiList.logOut(params).then((data: any) => {\n      if(data.data.code == 0) {\n        sessionStorage.removeItem(\"userInfo\");\n        this.$router.push('/surface/login');\n        this.$message.success(data.data.data.message)\n      }else {\n        this.$message.warning(data.data.data.message)\n      }\n      \n      console.log(data.data.code)\n    })\n  }\n\n  seeSurplus() {\n    //  let api: any = new ApiList();\n     this.api.seeBalance().then((resp:any)=>{\n        // this.curent_money = currentcy('1323');\n        this.curent_money = currentcy(resp.data[0].balance);\n     });\n    }\n\n  changePassword() {\n    this.add_editableTabs({\n      title: \"修改密码\",\n      url: `/home/change-password`\n    });\n    this.$router.push({ path: \"/home/change-password\" });\n  }\n  calRate() {\n    this.add_editableTabs({\n      title: \"费率计算\",\n      url: `/home/calculate-rate`\n    });\n    this.$router.push({ path: \"/home/calculate-rate\" });\n  }\n\n  showKeyAlert() {\n    let homeAlert: any = this.$refs.homeAlert;\n    let alertStr: any =  homeAlert.innerHTML\n      .replace('{merchantname}', this.userInfo.merchant_no)\n      .replace('{username}', this.userInfo.username)\n      .replace('{usertoken}', this.userInfo.deposit_key)\n      .replace('{withdraw_key}', this.userInfo.withdraw_key)\n\n    this.$alert(alertStr, \"查看密钥\", {\n      customClass: \"home-alert\",\n      dangerouslyUseHTMLString: true,\n      showCancelButton: true,\n      closeOnClickModal: true,\n      cancelButtonText: \"取消\",\n      confirmButtonText: \"确定\",\n      cancelButtonClass: \"alert-concel-btn\",\n      confirmButtonClass: \"alert-confirm-btn\",\n      center: true\n    });\n  }\n\n  openGoogleQr() {\n    this.add_editableTabs({\n      title: \"谷歌验证码\",\n      url: `/home/google-QRcode`\n    });\n    this.$router.push({ path: \"/home/google-QRcode\"});\n  }\n\n  showFeeAlert(){\n    let user: any = sessionStorage.getItem(\"userInfo\");\n    let params = {\n      userId: JSON.parse(user).id\n    }\n    let feeAlert: any = this.$refs.feeAlert;\n    this.api.searchFeeRate(params).then((data: any) => {\n      if(data.status == 200) {\n        let str: any = '';\n        data.data.data.map((item: any) => {\n          str += `<div class=\"fee-wrap\">\n                  <p class=\"left\">${ item.gatewayname }:</p>\n                  <p class=\"right\">${ item.fee == null? 0: item.fee }</p>\n                </div>`;\n        })\n        feeAlert.innerHTML = str;\n        this.$alert(str, \"查看费率\", {\n            customClass: \"fee-alert\",\n            dangerouslyUseHTMLString: true,\n            showCancelButton: true,\n            closeOnClickModal: true,\n            cancelButtonText: \"取消\",\n            confirmButtonText: \"确定\",\n            cancelButtonClass: \"alert-concel-btn\",\n            confirmButtonClass: \"alert-confirm-btn\",\n            center: true\n          });\n      }\n    })\n  }\n}\n"],"sourceRoot":""}]}