{"remainingRequest":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/babel-loader/lib/index.js!/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/ts-loader/index.js??ref--13-2!/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/vue-ts-manager/src/views/login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/src/views/login.vue","mtime":1563019026011},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.fill\";\nimport _classCallCheck from \"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from \"vue-property-decorator\";\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(LoginPage, _Vue);\n\n  function LoginPage() {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).apply(this, arguments));\n    _this.username = \"\";\n    _this.password = \"\";\n    _this.checkcode = \"\";\n    _this.identifyCodes = \"1234567890\";\n    _this.identifyCode = \"1234\";\n    _this.fontSizeMin = 30;\n    _this.fontSizeMax = 40;\n    _this.backgroundColorMin = 180;\n    _this.backgroundColorMax = 240;\n    _this.colorMin = 50;\n    _this.colorMax = 160;\n    _this.lineColorMin = 40;\n    _this.lineColorMax = 180;\n    _this.dotColorMin = 0;\n    _this.dotColorMax = 255;\n    _this.contentWidth = 140;\n    _this.contentHeight = 55;\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"mounted\",\n    value: function mounted() {\n      this.refreshCode();\n    }\n  }, {\n    key: \"submitLogin\",\n    value: function submitLogin() {\n      if (this.username.length == 0) {\n        this.$message.error(\"请输入用户名\");\n        return;\n      }\n\n      if (this.username.length >= 15) {\n        this.$message.error(\"用户名太长啦\");\n        return;\n      }\n\n      if (this.password.length == 0) {\n        this.$message.error(\"请输入密码\");\n        return;\n      }\n\n      if (this.password.length > 16 || this.password.length < 6) {\n        this.$message.error(\"请输入6到16位的密码\");\n        return;\n      }\n\n      if (this.checkcode.length == 0) {\n        this.$message.error(\"请输入验证码\");\n        return;\n      }\n\n      if (this.checkcode != this.identifyCode) {\n        this.$message.error(\"请输入正确的验证码\");\n        this.refreshCode();\n        return;\n      }\n    }\n  }, {\n    key: \"refreshCode\",\n    value: function refreshCode() {\n      this.identifyCode = \"\";\n      this.makeCode(this.identifyCodes, 4);\n    }\n  }, {\n    key: \"makeCode\",\n    value: function makeCode(o, l) {\n      for (var i = 0; i < l; i++) {\n        this.identifyCode += this.identifyCodes[this.randomNum(0, this.identifyCodes.length)];\n      }\n\n      this.drawPic();\n    } // 生成一个随机数\n\n  }, {\n    key: \"randomNum\",\n    value: function randomNum(min, max) {\n      return Math.floor(Math.random() * (max - min) + min);\n    } // 生成一个随机的颜色\n\n  }, {\n    key: \"randomColor\",\n    value: function randomColor(min, max) {\n      var r = this.randomNum(min, max);\n      var g = this.randomNum(min, max);\n      var b = this.randomNum(min, max);\n      return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    }\n  }, {\n    key: \"drawPic\",\n    value: function drawPic() {\n      var canvas = document.getElementById(\"checkcodeCanvas\");\n      canvas.width = 140;\n      canvas.height = 55;\n      var ctx = canvas.getContext(\"2d\");\n      ctx.textBaseline = \"bottom\"; // 绘制背景\n\n      ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax);\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight); // 绘制文字\n\n      for (var i = 0; i < this.identifyCode.length; i++) {\n        this.drawText(ctx, this.identifyCode[i], i);\n      }\n\n      this.drawLine(ctx);\n      this.drawDot(ctx);\n    }\n  }, {\n    key: \"drawText\",\n    value: function drawText(ctx, txt, i) {\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax);\n      ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + \"px SimHei\";\n      var x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1));\n      var y = this.randomNum(this.fontSizeMax, this.contentHeight - 5);\n      var deg = this.randomNum(-45, 45); // 修改坐标原点和旋转角度\n\n      ctx.translate(x, y);\n      ctx.rotate(deg * Math.PI / 180);\n      ctx.fillText(txt, 0, 0); // 恢复坐标原点和旋转角度\n\n      ctx.rotate(-deg * Math.PI / 180);\n      ctx.translate(-x, -y);\n    }\n  }, {\n    key: \"drawLine\",\n    value: function drawLine(ctx) {\n      // 绘制干扰线\n      for (var i = 0; i < 8; i++) {\n        ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax);\n        ctx.beginPath();\n        ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight));\n        ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight));\n        ctx.stroke();\n      }\n    }\n  }, {\n    key: \"drawDot\",\n    value: function drawDot(ctx) {\n      // 绘制干扰点\n      for (var i = 0; i < 100; i++) {\n        ctx.fillStyle = this.randomColor(0, 255);\n        ctx.beginPath();\n        ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI);\n        ctx.fill();\n      }\n    }\n  }]);\n\n  return LoginPage;\n}(Vue);\n\nLoginPage = tslib_1.__decorate([Component], LoginPage);\nexport default LoginPage;",{"version":3,"sources":["/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/vue-ts-manager/src/views/login.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class LoginPage extends Vue {\n  private username: String = \"\";\n  private password: String = \"\";\n  private checkcode: String = \"\";\n  private identifyCodes: any = \"1234567890\";\n  private identifyCode: any = \"1234\";\n  private fontSizeMin: any = 30;\n  private fontSizeMax: any = 40;\n  private backgroundColorMin: any = 180;\n  private backgroundColorMax: any = 240;\n  private colorMin: any = 50;\n  private colorMax: any = 160;\n  private lineColorMin: any = 40;\n  private lineColorMax: any = 180;\n  private dotColorMin: any = 0;\n  private dotColorMax: any = 255;\n  private contentWidth: any = 140;\n  private contentHeight: any = 55;\n  mounted() {\n    this.refreshCode();\n  }\n  submitLogin() {\n    if (this.username.length == 0) {\n      this.$message.error(\"请输入用户名\");\n      return;\n    }\n    if (this.username.length >= 15) {\n      this.$message.error(\"用户名太长啦\");\n      return;\n    }\n    if (this.password.length == 0) {\n      this.$message.error(\"请输入密码\");\n      return;\n    }\n    if (this.password.length > 16 || this.password.length < 6) {\n      this.$message.error(\"请输入6到16位的密码\");\n      return;\n    }\n    if (this.checkcode.length == 0) {\n      this.$message.error(\"请输入验证码\");\n      return;\n    }\n    if (this.checkcode != this.identifyCode) {\n      this.$message.error(\"请输入正确的验证码\");\n      this.refreshCode();\n      return;\n    }\n  }\n  refreshCode() {\n    this.identifyCode = \"\";\n    this.makeCode(this.identifyCodes, 4);\n  }\n  makeCode(o: any, l: any) {\n    for (let i: any = 0; i < l; i++) {\n      this.identifyCode += this.identifyCodes[\n        this.randomNum(0, this.identifyCodes.length)\n      ];\n    }\n    this.drawPic();\n  }\n  // 生成一个随机数\n  randomNum(min: any, max: any) {\n    return Math.floor(Math.random() * (max - min) + min);\n  }\n  // 生成一个随机的颜色\n  randomColor(min: any, max: any) {\n    let r: any = this.randomNum(min, max);\n    let g: any = this.randomNum(min, max);\n    let b: any = this.randomNum(min, max);\n    return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n  }\n  drawPic() {\n    let canvas: any = document.getElementById(\"checkcodeCanvas\");\n    canvas.width = 140;\n    canvas.height = 55;\n    let ctx: any = canvas.getContext(\"2d\");\n    ctx.textBaseline = \"bottom\";\n    // 绘制背景\n    ctx.fillStyle = this.randomColor(\n      this.backgroundColorMin,\n      this.backgroundColorMax\n    );\n    ctx.fillRect(0, 0, this.contentWidth, this.contentHeight);\n    // 绘制文字\n    for (let i: any = 0; i < this.identifyCode.length; i++) {\n      this.drawText(ctx, this.identifyCode[i], i);\n    }\n    this.drawLine(ctx);\n    this.drawDot(ctx);\n  }\n  drawText(ctx: any, txt: any, i: any) {\n    ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax);\n    ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + \"px SimHei\";\n    let x: any = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1));\n    let y: any = this.randomNum(this.fontSizeMax, this.contentHeight - 5);\n    let deg: any = this.randomNum(-45, 45);\n    // 修改坐标原点和旋转角度\n    ctx.translate(x, y);\n    ctx.rotate((deg * Math.PI) / 180);\n    ctx.fillText(txt, 0, 0);\n    // 恢复坐标原点和旋转角度\n    ctx.rotate((-deg * Math.PI) / 180);\n    ctx.translate(-x, -y);\n  }\n  drawLine(ctx: any) {\n    // 绘制干扰线\n    for (let i: any = 0; i < 8; i++) {\n      ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax);\n      ctx.beginPath();\n      ctx.moveTo(\n        this.randomNum(0, this.contentWidth),\n        this.randomNum(0, this.contentHeight)\n      );\n      ctx.lineTo(\n        this.randomNum(0, this.contentWidth),\n        this.randomNum(0, this.contentHeight)\n      );\n      ctx.stroke();\n    }\n  }\n  drawDot(ctx: any) {\n    // 绘制干扰点\n    for (let i: any = 0; i < 100; i++) {\n      ctx.fillStyle = this.randomColor(0, 255);\n      ctx.beginPath();\n      ctx.arc(\n        this.randomNum(0, this.contentWidth),\n        this.randomNum(0, this.contentHeight),\n        1,\n        0,\n        2 * Math.PI\n      );\n      ctx.fill();\n    }\n  }\n}\n"],"sourceRoot":""}]}