{"remainingRequest":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/vue-ts-manager/src/views/login.vue?vue&type=style&index=0&id=78c5695b&lang=less&scoped=true&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/src/views/login.vue","mtime":1563019026011},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/vue-ts-manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.login-container {\n  background: url(\"../assets/login-bg.png\") center top no-repeat;\n  background-size: 1920px 1080px;\n  width: 100%;\n  height: 100%;\n  text-align: left;\n  .form-wrap {\n    height: 68px;\n    line-height: 66px;\n    position: relative;\n    #checkcodeCanvas {\n      position: absolute;\n      width: 140px;\n      height: 50px;\n      top: 9px;\n      right: 20px;\n    }\n    input,\n    button {\n      height: 100%;\n      width: 100%;\n      margin: 0;\n      border: 1px solid #dfdfdf;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);\n      font-size: 18px;\n      font-family: \"Yuanti SC\";\n      outline: none;\n      text-indent: 82px;\n      background-position: 30px center;\n      background-repeat: no-repeat;\n      transition: all 0.25;\n    }\n    input:focus {\n      border-color: #5684fa;\n      box-shadow: 0 0 10px rgba(86, 132, 250, 0.15);\n    }\n    button {\n      background-color: #5684fa;\n      color: #fff;\n      text-align: center;\n      border: none;\n      padding: 0;\n      cursor: pointer;\n      text-indent: 0;\n    }\n    .username {\n      background-image: url(\"../assets/icon/user-icon.png\");\n    }\n    .password {\n      background-image: url(\"../assets/icon/password-icon.png\");\n    }\n    .checkcode {\n      background-image: url(\"../assets/icon/checkcode-icon.png\");\n    }\n    margin-bottom: 16px;\n  }\n  .login-main {\n    max-width: 1480px;\n    margin: 0 auto;\n    height: 100%;\n  }\n  .login-title {\n    line-height: 52px;\n    font-size: 24px;\n    font-family: \"PingFang SC\";\n    color: rgb(51, 51, 51);\n    margin-bottom: 56px;\n  }\n  .form-main {\n    width: 520px;\n    margin-right: 30px;\n    margin-top: 250px;\n    float: right;\n  }\n}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-main\">\n      <div class=\"form-main\">\n        <h2 class=\"login-title\">用户登录</h2>\n        <form action class=\"login-form\">\n          <div class=\"form-wrap\">\n            <input class=\"username\" v-model=\"username\" type=\"text\" placeholder=\"用户名\" />\n          </div>\n          <div class=\"form-wrap\">\n            <input class=\"password\" v-model=\"password\" type=\"password\" placeholder=\"密码\" />\n          </div>\n          <div class=\"form-wrap\">\n            <input class=\"checkcode\" v-model=\"checkcode\" type=\"text\" placeholder=\"验证码\" />\n            <canvas @click=\"refreshCode()\" id=\"checkcodeCanvas\"></canvas>\n          </div>\n          <div class=\"form-wrap\">\n            <button @click=\"submitLogin()\">提交</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class LoginPage extends Vue {\n  private username: String = \"\";\n  private password: String = \"\";\n  private checkcode: String = \"\";\n  private identifyCodes: any = \"1234567890\";\n  private identifyCode: any = \"1234\";\n  private fontSizeMin: any = 30;\n  private fontSizeMax: any = 40;\n  private backgroundColorMin: any = 180;\n  private backgroundColorMax: any = 240;\n  private colorMin: any = 50;\n  private colorMax: any = 160;\n  private lineColorMin: any = 40;\n  private lineColorMax: any = 180;\n  private dotColorMin: any = 0;\n  private dotColorMax: any = 255;\n  private contentWidth: any = 140;\n  private contentHeight: any = 55;\n  mounted() {\n    this.refreshCode();\n  }\n  submitLogin() {\n    if (this.username.length == 0) {\n      this.$message.error(\"请输入用户名\");\n      return;\n    }\n    if (this.username.length >= 15) {\n      this.$message.error(\"用户名太长啦\");\n      return;\n    }\n    if (this.password.length == 0) {\n      this.$message.error(\"请输入密码\");\n      return;\n    }\n    if (this.password.length > 16 || this.password.length < 6) {\n      this.$message.error(\"请输入6到16位的密码\");\n      return;\n    }\n    if (this.checkcode.length == 0) {\n      this.$message.error(\"请输入验证码\");\n      return;\n    }\n    if (this.checkcode != this.identifyCode) {\n      this.$message.error(\"请输入正确的验证码\");\n      this.refreshCode();\n      return;\n    }\n  }\n  refreshCode() {\n    this.identifyCode = \"\";\n    this.makeCode(this.identifyCodes, 4);\n  }\n  makeCode(o: any, l: any) {\n    for (let i: any = 0; i < l; i++) {\n      this.identifyCode += this.identifyCodes[\n        this.randomNum(0, this.identifyCodes.length)\n      ];\n    }\n    this.drawPic();\n  }\n  // 生成一个随机数\n  randomNum(min: any, max: any) {\n    return Math.floor(Math.random() * (max - min) + min);\n  }\n  // 生成一个随机的颜色\n  randomColor(min: any, max: any) {\n    let r: any = this.randomNum(min, max);\n    let g: any = this.randomNum(min, max);\n    let b: any = this.randomNum(min, max);\n    return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n  }\n  drawPic() {\n    let canvas: any = document.getElementById(\"checkcodeCanvas\");\n    canvas.width = 140;\n    canvas.height = 55;\n    let ctx: any = canvas.getContext(\"2d\");\n    ctx.textBaseline = \"bottom\";\n    // 绘制背景\n    ctx.fillStyle = this.randomColor(\n      this.backgroundColorMin,\n      this.backgroundColorMax\n    );\n    ctx.fillRect(0, 0, this.contentWidth, this.contentHeight);\n    // 绘制文字\n    for (let i: any = 0; i < this.identifyCode.length; i++) {\n      this.drawText(ctx, this.identifyCode[i], i);\n    }\n    this.drawLine(ctx);\n    this.drawDot(ctx);\n  }\n  drawText(ctx: any, txt: any, i: any) {\n    ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax);\n    ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + \"px SimHei\";\n    let x: any = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1));\n    let y: any = this.randomNum(this.fontSizeMax, this.contentHeight - 5);\n    let deg: any = this.randomNum(-45, 45);\n    // 修改坐标原点和旋转角度\n    ctx.translate(x, y);\n    ctx.rotate((deg * Math.PI) / 180);\n    ctx.fillText(txt, 0, 0);\n    // 恢复坐标原点和旋转角度\n    ctx.rotate((-deg * Math.PI) / 180);\n    ctx.translate(-x, -y);\n  }\n  drawLine(ctx: any) {\n    // 绘制干扰线\n    for (let i: any = 0; i < 8; i++) {\n      ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax);\n      ctx.beginPath();\n      ctx.moveTo(\n        this.randomNum(0, this.contentWidth),\n        this.randomNum(0, this.contentHeight)\n      );\n      ctx.lineTo(\n        this.randomNum(0, this.contentWidth),\n        this.randomNum(0, this.contentHeight)\n      );\n      ctx.stroke();\n    }\n  }\n  drawDot(ctx: any) {\n    // 绘制干扰点\n    for (let i: any = 0; i < 100; i++) {\n      ctx.fillStyle = this.randomColor(0, 255);\n      ctx.beginPath();\n      ctx.arc(\n        this.randomNum(0, this.contentWidth),\n        this.randomNum(0, this.contentHeight),\n        1,\n        0,\n        2 * Math.PI\n      );\n      ctx.fill();\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login-container {\n  background: url(\"../assets/login-bg.png\") center top no-repeat;\n  background-size: 1920px 1080px;\n  width: 100%;\n  height: 100%;\n  text-align: left;\n  .form-wrap {\n    height: 68px;\n    line-height: 66px;\n    position: relative;\n    #checkcodeCanvas {\n      position: absolute;\n      width: 140px;\n      height: 50px;\n      top: 9px;\n      right: 20px;\n    }\n    input,\n    button {\n      height: 100%;\n      width: 100%;\n      margin: 0;\n      border: 1px solid #dfdfdf;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);\n      font-size: 18px;\n      font-family: \"Yuanti SC\";\n      outline: none;\n      text-indent: 82px;\n      background-position: 30px center;\n      background-repeat: no-repeat;\n      transition: all 0.25;\n    }\n    input:focus {\n      border-color: #5684fa;\n      box-shadow: 0 0 10px rgba(86, 132, 250, 0.15);\n    }\n    button {\n      background-color: #5684fa;\n      color: #fff;\n      text-align: center;\n      border: none;\n      padding: 0;\n      cursor: pointer;\n      text-indent: 0;\n    }\n    .username {\n      background-image: url(\"../assets/icon/user-icon.png\");\n    }\n    .password {\n      background-image: url(\"../assets/icon/password-icon.png\");\n    }\n    .checkcode {\n      background-image: url(\"../assets/icon/checkcode-icon.png\");\n    }\n    margin-bottom: 16px;\n  }\n  .login-main {\n    max-width: 1480px;\n    margin: 0 auto;\n    height: 100%;\n  }\n  .login-title {\n    line-height: 52px;\n    font-size: 24px;\n    font-family: \"PingFang SC\";\n    color: rgb(51, 51, 51);\n    margin-bottom: 56px;\n  }\n  .form-main {\n    width: 520px;\n    margin-right: 30px;\n    margin-top: 250px;\n    float: right;\n  }\n}\n</style>\n\n\n"]}]}