{"remainingRequest":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/common/base-header.vue?vue&type=style&index=1&lang=less&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/common/base-header.vue","mtime":1575389408842},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.fee-alert{\n  border: none !important;\n  width: 380px!important;\n  .fee-wrap{\n    display: flex;\n    p{\n      width: 50%;\n    }\n    .left{\n      text-align: right;\n    }\n    .right{\n      text-align: left;\n      text-indent: 7px;\n    }\n  }\n  /deep/ .el-message-box__header {\n    padding-top: 0px !important;\n    padding: 0 14px;\n    line-height: 48px;\n    height: 48px;\n    background-color: #5684fa;\n    .el-message-box__title {\n      line-height: 48px;\n      color: #fff;\n      justify-content: flex-start;\n    }\n  }\n  /deep/ .el-message-box__close{\n    color: #fff!important;\n    font-size: 24px;\n  }\n  /deep/ .grid-content{\n    margin-bottom: 10px;\n    .input-labal{\n      line-height: 40px;\n      text-align: right;\n      padding-right: 5px;\n      a{\n        color: #333;\n        text-decoration: none;\n        &:hover{\n          color: #5684fa;\n        }\n      }\n    }\n  }\n}\n.home-alert {\n  border: none !important;\n  width: 480px!important;\n  /deep/ .el-message-box__header {\n    padding-top: 0px !important;\n    padding: 0 14px;\n    line-height: 48px;\n    height: 48px;\n    background-color: #5684fa;\n    .el-message-box__title {\n      line-height: 48px;\n      color: #fff;\n      justify-content: flex-start;\n    }\n  }\n  /deep/ .el-message-box__close{\n    color: #fff!important;\n    font-size: 24px;\n  }\n  /deep/ .grid-content{\n    margin-bottom: 10px;\n    .input-labal{\n      line-height: 40px;\n      text-align: right;\n      padding-right: 5px;\n      a{\n        color: #333;\n        text-decoration: none;\n        &:hover{\n          color: #5684fa;\n        }\n      }\n    }\n  }\n}\n.alert-confirm-btn{\n  background-color: #5684fa!important;\n  border-color: #5684fa!important;\n}\n.alert-concel-btn{\n  border-color: #5684fa!important;\n  color: #5684fa!important;\n}\n.userInfoWrap{\n  line-height: 38px!important;\n  height: 40px;\n  margin-left: 5px;\n  text-align: left;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  text-indent: 7px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n",{"version":3,"sources":["base-header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"base-header.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n  <div class=\"header\">\n    <div class=\"header-left\">\n      <h2>鑫鑫支付</h2>\n    </div>\n    <div class=\"header-right\">\n      <span>用户名：{{ userInfo.username }} &nbsp;&nbsp;|&nbsp;&nbsp;商户名：{{userInfo.merchant_no}} &nbsp;&nbsp;|&nbsp;&nbsp;当前余额：{{curent_money}}&nbsp;&nbsp;&nbsp;&nbsp;</span>\n      <el-dropdown class=\"header-dropdown\">\n        <span class=\"el-dropdown-link\">\n          用户中心<i class=\"el-icon-arrow-down el-icon--right\"></i>\n        </span>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item>\n            <!-- <img src=\"../../assets/icon/text-icon.png\" alt /> -->\n            对接文档</el-dropdown-item>\n          <el-dropdown-item @click.native=\"showKeyAlert()\">\n          <!-- <img src=\"../../assets/icon/viewkey-icon.png\" alt /> -->\n          查看密钥</el-dropdown-item>\n          <el-dropdown-item @click.native=\"showFeeAlert()\">\n            <!-- <img src=\"../../assets/icon/viewkey-icon.png\" alt /> -->\n            查看费率</el-dropdown-item>\n          <!-- <el-dropdown-item @click=\"calRate()\"> -->\n            <!-- <img src=\"../../assets/icon/viewkey-icon.png\" alt /> -->\n            <!-- 费率计算</el-dropdown-item> -->\n          <el-dropdown-item @click.native=\"changePassword()\">\n            <!-- <img src=\"../../assets/icon/edit-icon.png\" alt /> -->\n            修改密码</el-dropdown-item>\n            <el-dropdown-item @click.native=\"openGoogleQr()\">\n            <!-- <img src=\"../../assets/icon/edit-icon.png\" alt /> -->\n            谷歌验证码</el-dropdown-item>\n          <el-dropdown-item @click.native=\"quitLogin()\">退出登录</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n      <!-- <button>\n        <img src=\"../../assets/icon/text-icon.png\" alt /> 对接文档\n      </button>\n      <button @click=\"showKeyAlert()\">\n        <img src=\"../../assets/icon/viewkey-icon.png\" alt />查看密钥\n      </button>\n      <button @click=\"changePassword()\">\n        <img src=\"../../assets/icon/edit-icon.png\" alt />修改密码\n      </button> -->\n      \n      <!-- <button class=\"quit\" @click=\"quitLogin()\">退出登录</button> -->\n      <div ref=\"homeAlert\" style=\"width:0;height:0;overflow:hidden;\">\n        <el-col :span=\"24\">\n          <el-row>\n            <el-col class=\"grid-content\" :md=\"24\">\n              <el-row>\n                <el-col :span=\"7\" class=\"input-labal\">商户名:</el-col>\n                <el-col :span=\"17\" class=\"input-box\">\n                  <p class=\"userInfoWrap\">{merchantname}</p>\n                </el-col>\n              </el-row>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col class=\"grid-content\" :md=\"24\">\n              <el-row>\n                <el-col :span=\"7\" class=\"input-labal\">名称:</el-col>\n                <el-col :span=\"17\" class=\"input-box\">\n                  <p class=\"userInfoWrap\">{username}</p>\n                </el-col>\n              </el-row>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col class=\"grid-content\" :md=\"24\">\n              <el-row>\n                <el-col :span=\"7\" class=\"input-labal\">提现密钥:</el-col>\n                <el-col :span=\"17\" class=\"input-box\">\n                  <p class=\"userInfoWrap\">{usertoken}</p>\n                </el-col>\n              </el-row>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col class=\"grid-content\" :md=\"24\">\n              <el-row>\n                <el-col :span=\"7\" class=\"input-labal\">充值密钥:</el-col>\n                <el-col :span=\"17\" class=\"input-box\">\n                  <p class=\"userInfoWrap\">{withdraw_key}</p>\n                </el-col>\n              </el-row>\n            </el-col>\n          </el-row>\n        </el-col>\n      </div>\n\n      <div ref=\"feeAlert\" style=\"width:0;height:0;overflow:hidden;\">\n          <div class=\"fee-wrap\">\n            <p class=\"left\">微信：</p>\n            <p class=\"right\">***</p>\n          </div>\n          <div class=\"fee-wrap\">\n            <p class=\"left\">支付宝：</p>\n            <p class=\"right\">***</p>\n          </div>\n          <div class=\"fee-wrap\">\n            <p class=\"left\">云闪付：</p>\n            <p class=\"right\">***</p>\n          </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { State, Mutation } from \"vuex-class\";\nimport { ApiList } from \"../../api/api\";\nimport { currentcy } from \"../../config/number\"\n\n@Component({\n  components: {}\n})\nexport default class BaseHeader extends Vue {\n  @State(state => state) private globalState!: any;\n  @Mutation(\"add_editableTabs\") private add_editableTabs: any;\n  private formModel: any = \"\";\n  private ucLocal: any = sessionStorage.getItem(\"userInfo\")? sessionStorage.getItem(\"userInfo\"):'';\n  private userInfo: any = JSON.parse(this.ucLocal);\n  private curent_money: any = '0.00';\n  private api: any = new ApiList();\n\n  created() {\n      this.seeSurplus();\n  } \n\n  quitLogin() {\n    let user: any = sessionStorage.getItem(\"userInfo\");\n    let params = {\n      userid: JSON.parse(user).id\n    }\n    \n    this.$apiList.logOut(params).then((data: any) => {\n      if(data.data.code == 0) {\n        sessionStorage.removeItem(\"userInfo\");\n        this.$router.push('/surface/login');\n        this.$message.success(data.data.data.message)\n      }else {\n        this.$message.warning(data.data.data.message)\n      }\n      \n      console.log(data.data.code)\n    })\n  }\n\n  seeSurplus() {\n    //  let api: any = new ApiList();\n     this.api.seeBalance().then((resp:any)=>{\n        // this.curent_money = currentcy('1323');\n        this.curent_money = currentcy(resp.data[0].balance);\n     });\n    }\n\n  changePassword() {\n    this.add_editableTabs({\n      title: \"修改密码\",\n      url: `/home/change-password`\n    });\n    this.$router.push({ path: \"/home/change-password\" });\n  }\n  calRate() {\n    this.add_editableTabs({\n      title: \"费率计算\",\n      url: `/home/calculate-rate`\n    });\n    this.$router.push({ path: \"/home/calculate-rate\" });\n  }\n\n  showKeyAlert() {\n    let homeAlert: any = this.$refs.homeAlert;\n    let alertStr: any =  homeAlert.innerHTML\n      .replace('{merchantname}', this.userInfo.merchant_no)\n      .replace('{username}', this.userInfo.username)\n      .replace('{usertoken}', this.userInfo.deposit_key)\n      .replace('{withdraw_key}', this.userInfo.withdraw_key)\n\n    this.$alert(alertStr, \"查看密钥\", {\n      customClass: \"home-alert\",\n      dangerouslyUseHTMLString: true,\n      showCancelButton: true,\n      closeOnClickModal: true,\n      cancelButtonText: \"取消\",\n      confirmButtonText: \"确定\",\n      cancelButtonClass: \"alert-concel-btn\",\n      confirmButtonClass: \"alert-confirm-btn\",\n      center: true\n    });\n  }\n\n  openGoogleQr() {\n    this.add_editableTabs({\n      title: \"谷歌验证码\",\n      url: `/home/google-QRcode`\n    });\n    this.$router.push({ path: \"/home/google-QRcode\"});\n  }\n\n  showFeeAlert(){\n    let user: any = sessionStorage.getItem(\"userInfo\");\n    let params = {\n      userId: JSON.parse(user).id\n    }\n    let feeAlert: any = this.$refs.feeAlert;\n    this.api.searchFeeRate(params).then((data: any) => {\n      if(data.status == 200) {\n        let str: any = '';\n        data.data.data.map((item: any) => {\n          str += `<div class=\"fee-wrap\">\n                  <p class=\"left\">${ item.gatewayname }:</p>\n                  <p class=\"right\">${ item.fee == null? 0: item.fee }</p>\n                </div>`;\n        })\n        feeAlert.innerHTML = str;\n        this.$alert(str, \"查看费率\", {\n            customClass: \"fee-alert\",\n            dangerouslyUseHTMLString: true,\n            showCancelButton: true,\n            closeOnClickModal: true,\n            cancelButtonText: \"取消\",\n            confirmButtonText: \"确定\",\n            cancelButtonClass: \"alert-concel-btn\",\n            confirmButtonClass: \"alert-confirm-btn\",\n            center: true\n          });\n      }\n    })\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 40px 0 23px;\n  height: 64px;\n  background-color: #5684fa;\n  color: #fff;\n  font-family: \"PingFang SC\";\n  // box-shadow: 0 0 10px #455b90;\n  position: relative;\n  z-index: 10;\n  .header-left {\n    font-size: 22px;\n  }\n  .header-right {\n    font-size: 16px;\n    font-family: \"PingFang SC\";\n    & > a {\n      display: inline-block;\n      margin-right: 20px;\n      color: #fff;\n      text-decoration: none;\n    }\n    .header-dropdown{\n      border-radius: 4px;\n      width: 106px;\n      height: 40px;\n      margin: 0;\n      padding: 0;\n      font-size: 16px;\n      cursor: pointer;\n      margin-left: 10px;\n      outline: none;\n      background-color: #e3ecf9;\n      border: 1px solid #90adf8;\n      color: #5684fa;\n      transition: all 0.25s;\n      line-height: 38px;\n      img {\n        display: inline-block;\n        position: relative;\n        top: 3px;\n        margin: 0 3px;\n      }\n    }\n    button {\n      border-radius: 4px;\n      width: 106px;\n      height: 40px;\n      margin: 0;\n      padding: 0;\n      font-size: 16px;\n      cursor: pointer;\n      margin-left: 10px;\n      outline: none;\n      background-color: transparent;\n      border: 1px solid #90adf8;\n      color: #eee;\n      transition: all 0.25s;\n      img {\n        display: inline-block;\n        position: relative;\n        top: 3px;\n        margin: 0 3px;\n      }\n      &:hover {\n        background-color: #2c5dda;\n        border-color: #2c5dda;\n        color: #fff;\n      }\n      &.quit {\n        color: #5684fa;\n        background-color: #e3ecf9;\n        &:hover {\n          filter: brightness(1.1);\n        }\n      }\n    }\n  }\n}\n.fee-wrap{\n  display: flex;\n  padding: 0 12px;\n  .left {\n    width: 50%;\n    text-align: right;\n  }\n  .right{\n    width: 50%;\n    text-align: left;\n    text-indent: 8px;\n  }\n}\n</style>\n\n<style lang=\"less\">\n.fee-alert{\n  border: none !important;\n  width: 380px!important;\n  .fee-wrap{\n    display: flex;\n    p{\n      width: 50%;\n    }\n    .left{\n      text-align: right;\n    }\n    .right{\n      text-align: left;\n      text-indent: 7px;\n    }\n  }\n  /deep/ .el-message-box__header {\n    padding-top: 0px !important;\n    padding: 0 14px;\n    line-height: 48px;\n    height: 48px;\n    background-color: #5684fa;\n    .el-message-box__title {\n      line-height: 48px;\n      color: #fff;\n      justify-content: flex-start;\n    }\n  }\n  /deep/ .el-message-box__close{\n    color: #fff!important;\n    font-size: 24px;\n  }\n  /deep/ .grid-content{\n    margin-bottom: 10px;\n    .input-labal{\n      line-height: 40px;\n      text-align: right;\n      padding-right: 5px;\n      a{\n        color: #333;\n        text-decoration: none;\n        &:hover{\n          color: #5684fa;\n        }\n      }\n    }\n  }\n}\n.home-alert {\n  border: none !important;\n  width: 480px!important;\n  /deep/ .el-message-box__header {\n    padding-top: 0px !important;\n    padding: 0 14px;\n    line-height: 48px;\n    height: 48px;\n    background-color: #5684fa;\n    .el-message-box__title {\n      line-height: 48px;\n      color: #fff;\n      justify-content: flex-start;\n    }\n  }\n  /deep/ .el-message-box__close{\n    color: #fff!important;\n    font-size: 24px;\n  }\n  /deep/ .grid-content{\n    margin-bottom: 10px;\n    .input-labal{\n      line-height: 40px;\n      text-align: right;\n      padding-right: 5px;\n      a{\n        color: #333;\n        text-decoration: none;\n        &:hover{\n          color: #5684fa;\n        }\n      }\n    }\n  }\n}\n.alert-confirm-btn{\n  background-color: #5684fa!important;\n  border-color: #5684fa!important;\n}\n.alert-concel-btn{\n  border-color: #5684fa!important;\n  color: #5684fa!important;\n}\n.userInfoWrap{\n  line-height: 38px!important;\n  height: 40px;\n  margin-left: 5px;\n  text-align: left;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  text-indent: 7px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n\n\n"]}]}