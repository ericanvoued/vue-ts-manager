{"remainingRequest":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/other/register.vue?vue&type=style&index=0&id=5562b85c&lang=less&scoped=true&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/other/register.vue","mtime":1564578907237},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.registerContent {\n  width: 100%;\n  padding: 100px calc(50% - 100px) 0 calc(50% - 300px);\n  .regRuleForm {\n    width: 400px;\n  }\n}\n/deep/ .el-button--primary {\n  background-color: #409eff;\n  border-color: #409eff;\n  border-radius: 0;\n}\n/deep/ .el-button--default {\n  border-radius: 0;\n}\n/deep/ .el-button--primary:hover,\n.el-button--primary:focus {\n  background-color: #66b1ff;\n  border-color: #66b1ff;\n}\n",{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/components/other","sourcesContent":["<template>\n  <div class=\"registerContent\">\n    <el-form\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      ref=\"ruleForm\"\n      label-width=\"100px\"\n      class=\"regRuleForm\"\n    >\n      <el-form-item label=\"账号\" prop=\"account\">\n        <el-input v-model=\"ruleForm.account\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"名称\" prop=\"name\">\n        <el-input v-model=\"ruleForm.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"邮箱\" prop=\"email\">\n        <el-input v-model=\"ruleForm.email\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"手机\" prop=\"phone\">\n        <el-input v-model=\"ruleForm.phone\"></el-input>\n      </el-form-item>\n      <!-- <el-form-item label=\"启用谷歌验证\" prop=\"isCheck\">\n        <el-radio-group v-model=\"ruleForm.isCheck\">\n          <el-radio label=\"1\">是</el-radio>\n          <el-radio label=\"0\">否</el-radio>\n        </el-radio-group>\n      </el-form-item>-->\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('submit')\">立交提交</el-button>\n        <el-button @click=\"submitForm('back')\">返回</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nimport { ApiList } from \"../../api/api\";\n\nexport default {\n  data() {\n    return {\n      ruleForm: {\n        name: \"\",\n        account: \"\",\n        email: \"\",\n        phone: \"\",\n        isCheck: \"\"\n      },\n      rules: {\n        account: [\n          { required: true, message: \"请输入账号\", trigger: \"blur\" },\n          {\n            min: 1,\n            max: 10,\n            message: \"长度在不超过 10 个字符\",\n            trigger: \"blur\"\n          }\n        ],\n        name: [\n          { required: true, message: \"请输入名称\", trigger: \"blur\" },\n          { max: 10, message: \"长度在不超过 10 个字符\", trigger: \"blur\" }\n        ],\n        email: [\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\n          { type: \"email\", message: \"请输入正确的邮箱地址\", trigger: [\"blur\"] }\n        ],\n        phone: [\n          { required: true, message: \"请输入手机号\", trigger: \"blur\" },\n          {\n            validator: function(rule, value, callback) {\n              if (/^1[2345789]\\d{9}$/.test(value) == false) {\n                callback(new Error(\"请输入正确的手机号\"));\n              } else {\n                callback();\n              }\n            },\n            trigger: [\"blur\"]\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    ...mapMutations([\"remove_editableTabs\"]),\n    submitForm(type) {\n      console.log(this.ruleForm);\n      if (type == \"back\") {\n        this.remove_editableTabs({\n          targetName: this.$store.state.HomeModule.tabIndex + \"\"\n        });\n        //   console.log(this.$store.state.HomeModule.editableTabs2)\n        return;\n      }\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          let apiList = new ApiList();\n          apiList.register({\n              username: this.ruleForm.name,\n              account: this.ruleForm.account,\n              mail: this.ruleForm.email,\n              phone: this.ruleForm.phone\n            })\n            .then(resp => {\n              if (parseInt(resp.data.code) == 0) {\n                this.$message({\n                  type: \"success\",\n                  message: '\"注册成功\"'\n                });\n                this.remove_editableTabs({\n                  targetName: this.$store.state.HomeModule.tabIndex + \"\"\n                });\n              } else {\n                this.$message.error(\"注册失败\");\n              }\n            })\n            .catch(error => {\n              his.$message.error(\"注册失败:\" + error);\n            });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.registerContent {\n  width: 100%;\n  padding: 100px calc(50% - 100px) 0 calc(50% - 300px);\n  .regRuleForm {\n    width: 400px;\n  }\n}\n/deep/ .el-button--primary {\n  background-color: #409eff;\n  border-color: #409eff;\n  border-radius: 0;\n}\n/deep/ .el-button--default {\n  border-radius: 0;\n}\n/deep/ .el-button--primary:hover,\n.el-button--primary:focus {\n  background-color: #66b1ff;\n  border-color: #66b1ff;\n}\n</style>\n\n\n"]}]}