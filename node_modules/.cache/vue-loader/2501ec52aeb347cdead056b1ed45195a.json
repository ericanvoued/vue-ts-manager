{"remainingRequest":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/alert-list/add-bankcard.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/alert-list/add-bankcard.vue","mtime":1564496208293},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport { State, Mutation, Action } from \"vuex-class\";\n\n@Component({\n  components: {}\n})\nexport default class AddBankcard extends Vue {\n  @State(\"HomeModule\") private HomeModule: any;\n  @Mutation(\"set_addbackcardflag\") private set_addbackcardflag: any;\n    @Action(\"getTableList\") private getTableList: any;\n  private bankcardObj: any = {\n    bankcardNo: \"\",\n    bandcarkName: \"\",\n    accountName: \"\",\n    accountAddress: \"\"\n  };\n  private formModel: any = \"\";\n\n  closeAlert() {\n    this.set_addbackcardflag(false);\n  }\n\n  saveBankCark() {\n      let bankcardPattern = /^([1-9]{1})(\\d{15}|\\d{18})$/;\n      if(!bankcardPattern.test(this.bankcardObj.bankcardNo.replace(/\\s+/g, ''))) {\n          this.$message.error('请输入正确的银行卡号');\n      }else if(this.bankcardObj.bandcarkName.length == 0) {\n          this.$message.error('请输入正确的银行名称');\n      }else if(this.bankcardObj.accountName.length == 0) {\n          this.$message.error('请输入正确的账户名称');\n      }else if(this.bankcardObj.accountAddress.length == 0) {\n          this.$message.error('请输入正确的开户行地址');\n      }else {\n          this.$apiList.addBankCark(this.bankcardObj).then((data: any) => {\n              console.log(data)\n              this.$message.success(data.data.data.message)\n              this.set_addbackcardflag(false);\n              let obj: any = {};\n                this.HomeModule.formParams.config.formList.map((item: any, index: any) => {\n                    if(item.type == 'select') {\n                        this.$set(obj, item.name, item.value.value)\n                    }\n                    if(item.type == 'text') {\n                        this.$set(obj, item.name, item.value)\n                    }\n                    if(item.type == 'date') {\n                        this.$set(obj, item.name[0], this.formatDate(item.value[0]))\n                        this.$set(obj, item.name[1], this.formatDate(item.value[1]))\n                    }\n                })\n                this.getTableList({url: this.HomeModule.formParams.config.apiurl,params: obj});\n          })\n      }\n  \n  }\n\n  formatDate(date: any){\n        date = new Date(date);\n        var y=date.getFullYear();\n        var m=date.getMonth()+1;\n        var d=date.getDate();\n        m = m<10?(\"0\"+m):m;\n        d = d<10?(\"0\"+d):d;\n        return y+\"-\"+m+\"-\"+d;\n    }\n}\n",{"version":3,"sources":["add-bankcard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-bankcard.vue","sourceRoot":"src/components/alert-list","sourcesContent":["<template>\n  <div class=\"bankcard-alert\" v-if=\"HomeModule.addbackcardflag\">\n    <div class=\"bankcard-alert-container clearfix\">\n      <h2>\n        新增下发银行卡信息\n        <span @click=\"closeAlert()\" class=\"close-alert el-icon-close\"></span>\n      </h2>\n      <el-col :span=\"24\">\n        <el-row>\n          <el-col class=\"grid-content\" :md=\"24\">\n            <el-row>\n              <el-col :span=\"7\" class=\"input-labal\">银行卡号:</el-col>\n              <el-col :span=\"17\" class=\"input-box\">\n                <el-input v-model=\"bankcardObj.bankcardNo\" placeholder=\"代理商用户名\"></el-input>\n              </el-col>\n            </el-row>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col class=\"grid-content\" :md=\"24\">\n            <el-row>\n              <el-col :span=\"7\" class=\"input-labal\">银行名称:</el-col>\n              <el-col :span=\"17\" class=\"input-box\">\n                <el-input v-model=\"bankcardObj.bandcarkName\" placeholder=\"代理商用户名\"></el-input>\n              </el-col>\n            </el-row>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col class=\"grid-content\" :md=\"24\">\n            <el-row>\n              <el-col :span=\"7\" class=\"input-labal\">账户名称:</el-col>\n              <el-col :span=\"17\" class=\"input-box\">\n                <el-input v-model=\"bankcardObj.accountName\" placeholder=\"代理商用户名\"></el-input>\n              </el-col>\n            </el-row>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col class=\"grid-content\" :md=\"24\">\n            <el-row>\n              <el-col :span=\"7\" class=\"input-labal\">开户行地址:</el-col>\n              <el-col :span=\"17\" class=\"input-box\">\n                <el-input v-model=\"bankcardObj.accountAddress\" placeholder=\"代理商用户名\"></el-input>\n              </el-col>\n            </el-row>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col class=\"grid-content\" :md=\"24\">\n            <el-row>\n              <el-col :span=\"7\" class=\"input-labal\">&nbsp;</el-col>\n              <el-col :span=\"17\" class=\"input-box\" style=\"text-align:left;\">\n                <el-button type=\"primary\" @click=\"saveBankCark()\">保存</el-button>\n              </el-col>\n            </el-row>\n          </el-col>\n        </el-row>\n      </el-col>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport { State, Mutation, Action } from \"vuex-class\";\n\n@Component({\n  components: {}\n})\nexport default class AddBankcard extends Vue {\n  @State(\"HomeModule\") private HomeModule: any;\n  @Mutation(\"set_addbackcardflag\") private set_addbackcardflag: any;\n    @Action(\"getTableList\") private getTableList: any;\n  private bankcardObj: any = {\n    bankcardNo: \"\",\n    bandcarkName: \"\",\n    accountName: \"\",\n    accountAddress: \"\"\n  };\n  private formModel: any = \"\";\n\n  closeAlert() {\n    this.set_addbackcardflag(false);\n  }\n\n  saveBankCark() {\n      let bankcardPattern = /^([1-9]{1})(\\d{15}|\\d{18})$/;\n      if(!bankcardPattern.test(this.bankcardObj.bankcardNo.replace(/\\s+/g, ''))) {\n          this.$message.error('请输入正确的银行卡号');\n      }else if(this.bankcardObj.bandcarkName.length == 0) {\n          this.$message.error('请输入正确的银行名称');\n      }else if(this.bankcardObj.accountName.length == 0) {\n          this.$message.error('请输入正确的账户名称');\n      }else if(this.bankcardObj.accountAddress.length == 0) {\n          this.$message.error('请输入正确的开户行地址');\n      }else {\n          this.$apiList.addBankCark(this.bankcardObj).then((data: any) => {\n              console.log(data)\n              this.$message.success(data.data.data.message)\n              this.set_addbackcardflag(false);\n              let obj: any = {};\n                this.HomeModule.formParams.config.formList.map((item: any, index: any) => {\n                    if(item.type == 'select') {\n                        this.$set(obj, item.name, item.value.value)\n                    }\n                    if(item.type == 'text') {\n                        this.$set(obj, item.name, item.value)\n                    }\n                    if(item.type == 'date') {\n                        this.$set(obj, item.name[0], this.formatDate(item.value[0]))\n                        this.$set(obj, item.name[1], this.formatDate(item.value[1]))\n                    }\n                })\n                this.getTableList({url: this.HomeModule.formParams.config.apiurl,params: obj});\n          })\n      }\n  \n  }\n\n  formatDate(date: any){\n        date = new Date(date);\n        var y=date.getFullYear();\n        var m=date.getMonth()+1;\n        var d=date.getDate();\n        m = m<10?(\"0\"+m):m;\n        d = d<10?(\"0\"+d):d;\n        return y+\"-\"+m+\"-\"+d;\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.bankcard-alert {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 10000;\n  background-color: rgba(0, 0, 0, 0.55);\n  .bankcard-alert-container {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    width: 500px;\n    height: 375px;\n    background: #fff;\n    border-radius: 10px;\n    overflow: hidden;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);\n    h2 {\n      line-height: 58px;\n      background-color: #5584fa;\n      color: #fff;\n      font-size: 22px;\n      text-indent: 20px;\n      text-align: left;\n    }\n    .grid-content {\n      padding: 10px 20px;\n    }\n    .input-labal {\n      line-height: 40px;\n    }\n    /deep/ .el-input__inner:focus {\n      border-color: #5584fa;\n    }\n    .el-button--primary {\n      background-color: #5584fa;\n    }\n  }\n  .close-alert {\n    float: right;\n    display: inline-block;\n    height: 58px;\n    line-height: 58px;\n    text-align: center;\n    width: 58px;\n    cursor: pointer;\n  }\n}\n</style>\n\n"]}]}