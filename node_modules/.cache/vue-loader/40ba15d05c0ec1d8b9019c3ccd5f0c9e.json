{"remainingRequest":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/common/pagination.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/src/components/common/pagination.vue","mtime":1564198376208},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericchen/Desktop/parttime/xinxin/surface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { State,Action, Mutation} from 'vuex-class';\n@Component\nexport default class Pigination extends Vue {\n  @Action(\"go_page_action\") private go_page_action: any;\n  @State(state => state.PiginationModule) private PiginationModule!: any;\n  @State('HomeModule') private HomeModule!: any;\n  @Action(\"getTableList\") private getTableList: any;\n  private goPage:number = 1\n  private pageSize:number = 20\n  handleGo(){\n    let goPage = Number(this.goPage)\n    let maxPage = Math.ceil(this.PiginationModule.total/this.pageSize)\n    if(goPage < 0){\n      this.goPage = 0\n    }\n    if(goPage > maxPage){\n      this.goPage = maxPage\n    }\n    goPage = Number(this.goPage)\n    this.go_page_action(goPage)\n    this.searchList(goPage)\n  }\n  pageSizeChange(goPage: any){\n     this.go_page_action(goPage)\n     this.searchList(goPage)\n     this.goPage = goPage\n\n  }\n   searchList(page: Number){\n        let obj: any = {};\n        this.HomeModule.formParams.config.formList.map((item: any, index: any) => {\n            if(item.type == 'select') {\n                this.$set(obj, item.name, item.value.value)\n            }\n            if(item.type == 'text') {\n                this.$set(obj, item.name, item.value)\n            }\n            if(item.type == 'date') {\n                this.$set(obj, item.name[0], this.formatDate(item.value[0]))\n                this.$set(obj, item.name[1], this.formatDate(item.value[1]))\n            }\n        })\n        this.$set(obj, \"page\",page)\n        this.getTableList({url: this.HomeModule.formParams.config.apiurl,params: obj});\n    }\n\n    formatDate(date: any){\n        date = new Date(date);\n        var y=date.getFullYear();\n        var m=date.getMonth()+1;\n        var d=date.getDate();\n        m = m<10?(\"0\"+m):m;\n        d = d<10?(\"0\"+d):d;\n        return y+\"-\"+m+\"-\"+d;\n    }\n}\n",{"version":3,"sources":["pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pagination.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n    <div class=\"pigination-box\">\n      <div class=\"pigination-page\">\n        <el-pagination\n        prev-text=\"上一页\"\n        next-text=\"下一页\"\n        background\n        :current-page=\"PiginationModule.page\"\n        @current-change=\"pageSizeChange\"\n        layout=\"prev, pager, next\"\n        :page-size=\"pageSize\"\n        :total=\"PiginationModule.total\">\n      </el-pagination>\n      </div>\n      <div class=\"pigination-input-label\">跳转到</div>\n      <div class=\"pigination-input\">\n        <el-input v-model=\"goPage\"\n        onKeypress=\"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))\" \n        :max=\"9999999\" type=\"number\" size=\"mini\"  placeholder=\"页码\"></el-input>\n      </div>\n      <div class=\"pigination-button\">\n        <el-button @click=\"handleGo\">Go</el-button>\n      </div>\n    </div>\n</template>\n\n\n<script lang=\"ts\">\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { State,Action, Mutation} from 'vuex-class';\n@Component\nexport default class Pigination extends Vue {\n  @Action(\"go_page_action\") private go_page_action: any;\n  @State(state => state.PiginationModule) private PiginationModule!: any;\n  @State('HomeModule') private HomeModule!: any;\n  @Action(\"getTableList\") private getTableList: any;\n  private goPage:number = 1\n  private pageSize:number = 20\n  handleGo(){\n    let goPage = Number(this.goPage)\n    let maxPage = Math.ceil(this.PiginationModule.total/this.pageSize)\n    if(goPage < 0){\n      this.goPage = 0\n    }\n    if(goPage > maxPage){\n      this.goPage = maxPage\n    }\n    goPage = Number(this.goPage)\n    this.go_page_action(goPage)\n    this.searchList(goPage)\n  }\n  pageSizeChange(goPage: any){\n     this.go_page_action(goPage)\n     this.searchList(goPage)\n     this.goPage = goPage\n\n  }\n   searchList(page: Number){\n        let obj: any = {};\n        this.HomeModule.formParams.config.formList.map((item: any, index: any) => {\n            if(item.type == 'select') {\n                this.$set(obj, item.name, item.value.value)\n            }\n            if(item.type == 'text') {\n                this.$set(obj, item.name, item.value)\n            }\n            if(item.type == 'date') {\n                this.$set(obj, item.name[0], this.formatDate(item.value[0]))\n                this.$set(obj, item.name[1], this.formatDate(item.value[1]))\n            }\n        })\n        this.$set(obj, \"page\",page)\n        this.getTableList({url: this.HomeModule.formParams.config.apiurl,params: obj});\n    }\n\n    formatDate(date: any){\n        date = new Date(date);\n        var y=date.getFullYear();\n        var m=date.getMonth()+1;\n        var d=date.getDate();\n        m = m<10?(\"0\"+m):m;\n        d = d<10?(\"0\"+d):d;\n        return y+\"-\"+m+\"-\"+d;\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.pigination-box{\n    height: 80px;\n    margin-bottom: 10px;\n    padding-right: 17px;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    .pigination-page{\n      /deep/ .el-pagination .el-pager li.active{\n        background:rgba(255,255,255,1);\n        border:2px solid rgba(83, 152, 248, 1);\n        color:rgba(83, 152, 248, 1);\n      }\n      /deep/ .el-pagination.is-background .el-pager li:not(.disabled):hover{\n        color: rgba(86,132,250,1);\n      }\n      /deep/ .el-pager li{\n        background:rgba(255,255,255,1);\n        border:1px solid rgba(202,202,202,1);\n        box-sizing: border-box;\n        border-radius:3px;\n        height: 28px;\n        width: 28px;\n        min-width: 28px;\n        line-height: 28px;\n        text-align: center;\n        padding: 0;\n      }\n      /deep/ .btn-prev, /deep/.btn-next{\n        font-size:14px;\n        border:1px solid rgba(202,202,202,1);\n        background:rgba(255,255,255,1);\n        padding: 0 15px;\n        height: 28px;\n        line-height: 28px;\n         &:hover{\n          border:1px solid rgba(86,132,250,1);\n          color: rgba(86,132,250,1);\n        }\n        &:disabled{\n           border:1px solid #cacaca;\n          color: #cacaca;\n        }\n        span{\n          height: 26px;\n          line-height: 26px;\n        }\n      }\n      /deep/.el-pagination span{\n         height: 26px;\n        line-height: 26px;\n      }\n    }\n    .pigination-input-label{\n      margin-left:5px; \n      width: 50px;\n      font-size:12px;\n      text-align: right;\n      color:rgba(102,102,102,1);\n      position: relative;\n      &::before{\n        content: '';\n        display: inline-block;\n        height: 16px;\n        width: 1px;\n        position: absolute;\n        left: 0;\n        // top: -px;\n        background:rgba(202,202,202,1);\n      }\n    }\n    .pigination-input{\n      width: 40px;\n      margin-right: 20px;\n      margin-left: 10px;\n      /deep/ .el-input__inner{\n        padding: 0;\n        text-align: center;\n        font-size: 14px;\n        &:focus{\n           border:1px solid rgba(86,132,250,1);\n        }\n      }\n      /deep/ input::-webkit-outer-spin-button,\n      /deep/ input::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n      }\n       /deep/ input[type=\"number\"]{\n        -moz-appearance: textfield;\n      }\n    }\n    .pigination-button{\n      margin-right: 17px;\n      .el-button{\n        // border: 1px solid rgba(86,132,250,1);\n        box-sizing: border-box;\n        height: 28px;\n        width: 40px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background:rgba(86,132,250,1);\n        border-radius:3px;\n        font-size:14px;\n        font-weight:400;\n        padding: 0;\n        color:rgba(255,254,255,1);\n      }\n    }\n}\n</style>\n\n\n"]}]}